function getAllTabs(o){chrome.tabs.query({},(e=>{o(e)}))}function closeAllTabs(){chrome.tabs.query({},(o=>{const e=o.map((o=>o.id));chrome.tabs.remove(e)}))}function closeTab(o){chrome.tabs.remove(o,(()=>{chrome.runtime.lastError?console.log("Error closing tab: ",chrome.runtime.lastError):console.log("Tab closed with ID: ",o)}))}function closeTabsFromDomain(o){chrome.tabs.query({},(e=>{e.forEach((e=>{try{new URL(e.url).hostname.includes(o)&&closeTab(e.id)}catch(o){console.log("Error parsing tab URL: ",o)}}))}))}function groupAllTabs(){chrome.tabs.query({},(o=>{const e=o.map((o=>o.id));chrome.tabs.group({tabIds:e},(o=>{console.log(`All tabs grouped under group ID: ${o}`)}))}))}chrome.contextMenus.create({id:"close_all_tabs",title:"Close All Tabs",contexts:["all"]}),chrome.contextMenus.create({id:"group_all_tabs",title:"Group All Tabs",contexts:["all"]}),chrome.contextMenus.onClicked.addListener((o=>{"close_all_tabs"===o.menuItemId?closeAllTabs():"group_all_tabs"===o.menuItemId&&groupAllTabs()})),chrome.runtime.onMessage.addListener(((o,e,s)=>("getAllTabs"===o.action?getAllTabs((o=>{s({tabs:o})})):"closeTabsFromDomain"===o.action?(closeTabsFromDomain(o.domain),s({status:"Closing tabs from "+o.domain})):"closeAllTabs"===o.action?closeAllTabs():"groupAllTabs"===o.action&&groupAllTabs(),s({status:"success"}),!0))),chrome.tabs.onUpdated.addListener(((o,e,s)=>{"complete"===e.status&&s.url&&console.log("Tab updated: ",s.url)})),chrome.runtime.onInstalled.addListener((()=>{console.log("Tab Manager Extension installed.")})),chrome.runtime.onStartup.addListener((()=>{console.log("Tab Manager extension started.")}));