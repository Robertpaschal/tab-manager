function getAllTabs(e){chrome.tabs.query({},(o=>{e(o)}))}function closeAllTabs(){chrome.tabs.query({},(e=>{const o=e.map((e=>e.id));chrome.tabs.remove(o)}))}function closeTab(e){chrome.tabs.remove(e,(()=>{chrome.runtime.lastError?console.log("Error closing tab: ",chrome.runtime.lastError):console.log("Tab closed with ID: ",e)}))}function closeTabsFromDomain(e){chrome.tabs.query({},(o=>{o.forEach((o=>{try{new URL(o.url).hostname.includes(e)&&closeTab(o.id)}catch(e){console.log("Error parsing tab URL: ",e)}}))}))}function groupAllTabs(){chrome.tabs.query({},(e=>{const o=e.map((e=>e.id));chrome.tabs.group({tabIds:o},(e=>{console.log(`All tabs grouped under group ID: ${e}`)}))}))}let contextMenusCreated=!1;contextMenusCreated||(chrome.contextMenus.create({id:"close_all_tabs",title:"Close All Tabs",contexts:["all"]}),chrome.contextMenus.create({id:"group_all_tabs",title:"Group All Tabs",contexts:["all"]}),contextMenusCreated=!0),chrome.contextMenus.onClicked.addListener((e=>{"close_all_tabs"===e.menuItemId?closeAllTabs():"group_all_tabs"===e.menuItemId&&groupAllTabs()})),chrome.runtime.onMessage.addListener(((e,o,t)=>("getAllTabs"===e.action?getAllTabs((e=>{t({tabs:e})})):"closeTabsFromDomain"===e.action?(closeTabsFromDomain(e.domain),t({status:"Closing tabs from "+e.domain})):"closeAllTabs"===e.action?closeAllTabs():"groupAllTabs"===e.action&&groupAllTabs(),t({status:"success"}),!0))),chrome.tabs.onUpdated.addListener(((e,o,t)=>{"complete"===o.status&&t.url&&console.log("Tab updated: ",t.url)})),chrome.runtime.onInstalled.addListener((()=>{console.log("Tab Manager Extension installed.")})),chrome.runtime.onStartup.addListener((()=>{console.log("Tab Manager extension started.")}));